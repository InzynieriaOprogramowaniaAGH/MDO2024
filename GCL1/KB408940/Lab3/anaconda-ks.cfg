# Generated by Anaconda 38.23.4
# Generated by pykickstart v3.47
#version=F38
# Use graphical install
graphical

# Keyboard layouts
keyboard --vckeymap=pl --xlayouts='pl'
# System language
lang pl_PL.UTF-8

# Use CDROM installation media
cdrom

# Add online repositories
url --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=fedora-38&arch=x86_64
repo --name=updates --mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=updates-released-f38&arch=x86_64

%packages --retries=5 --timeout=20 --inst-langs=en
@^server-product-environmet

%end

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.7.1
ignoredisk --only-use=sda
autopart
# Partition clearing information
clearpart --all --initlabel  # Always format the entire disk

# System timezone
timezone Europe/Warsaw --utc

# Root password
rootpw --iscrypted $y$j9T$TlbT7VpZqMH.RiWN.J9eurXo$jDEYwRc/JsUjEfk2GBnx22zv.ru9guq9FsVSIZuHZy1
user --groups=wheel --name=kasia --password=$y$j9T$vS92AhIqVxFyCeSY2II/ImaV$97pTQC4SAeK7zct08yqL548dKY43MoSan/cnCjdWGo2 --iscrypted

%post
# Update
dnf update

# Install
dnf install -y moby-engine python3 ansible

# Start Docker service
systemctl start docker

# Enable Docker to start on boot
systemctl enable docker

# Pull and run lighttpd container
docker run -d -p 80:80 --name lighttpd-container lighttpd
%end
